<div class="app">
  <div class="container">

    <music-table *rsResource="let tracks=tracks, let columns=columns, let restrictedColumns=restrictedColumns from 'music-table-1'"
    [restrictedColumns]="restrictedColumns"
    [tracks]="tracks"
    [columns]="columns">
      <ng-container *tHead="let columns=columns">
        <th *ngFor="let column of columns | async">
          {{column}}
        </th>
      </ng-container>
      <ng-container *tBody="let columns=columns, let tracks=tracks">
        <tr *ngFor="let track of tracks | async">
          <td *ngFor="let column of columns | async | mapper: mapTrackValue(track)">
            <ng-container *ngComponentOutlet="column.component, content: [column.value]">
            </ng-container>
          </td>
        </tr>
      </ng-container>
    </music-table>

    <music-table *rsResource="let tracks=tracks, let columns=columns, let restrictedColumns=restrictedColumns from 'music-table-2'"
    [restrictedColumns]="restrictedColumns"
    [tracks]="tracks"
    [columns]="columns">
      <ng-container *tHead="let columns=columns">
        <th *ngFor="let column of columns | async">
          {{column}}
        </th>
      </ng-container>
      <ng-container *tBody="let columns=columns, let tracks=tracks">
        <tr *ngFor="let track of tracks | async">
          <td *ngFor="let column of columns | async | mapper: mapTrackValue(track)">
            <ng-container *ngComponentOutlet="column.component, content: [column.value]">
            </ng-container>
          </td>
        </tr>
      </ng-container>
    </music-table>


    <search *rsResource="let tracks=tracks, let columns=columns from 'music-table-1'"
      [tracks]="tracks"
      [columns]="columns"></search>
    <search *rsResource="let tracks=tracks, let columns=columns from 'music-table-2'"
      [tracks]="tracks"
      [columns]="columns"></search>
    <logger *rsResource="let resource from 'music-table-1'" [target]="resource"></logger>
  </div>
</div>
